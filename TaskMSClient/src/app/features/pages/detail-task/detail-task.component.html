
<div class="konum">
<div class="card flex-container">
    <ng-container *ngIf="task.fileUrls && task.fileUrls.length > 0">
      <p-button (click)="showGalleryDialog()" icon="pi pi-external-link" label="Görsel"  [text]="true" [raised]="true" severity="warning"  [style]="{width: '180px', color: '#f14d06ad', 'border-radius': '12px'}"/>
      <p-dialog header="Görseller" [(visible)]="visibleGalleryDialog" [breakpoints]="{ '960px': '75vw' }" [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false">
        <ul class="p-list">
          <li *ngFor="let file of task.fileUrls">
            <a [href]="'/img/' + file.fileUrl" target="_blank">
              <img [src]="'/img/' + file.fileUrl" width="300" alt="Görsel" loading="lazy">
            </a>
          </li>
        </ul>
      </p-dialog>
    </ng-container>
    <ng-container *ngIf="!task.fileUrls || task.fileUrls.length === 0">
      <p-button  label="Görsel Eklenmedi." [text]="true" [raised]="true" severity="warning" [style]="{width: '180px', color: '#f14d06ad', 'border-radius': '12px'}" ></p-button>
    </ng-container>
  </div>
  
  <div class="card flex-container">
    <!-- Güncelleme Formu -->
    <p-button (click)="showUpdateDialog()" label="Güncelle"  icon="pi pi-pencil" [text]="true" [raised]="true" severity="warning"  [style]="{width: '180px', color: '#f14d06ad', 'border-radius': '12px'}" />
    <p-dialog header="Görev Güncelle" [(visible)]="visibleUpdateDialog" [modal]="true" [style]="{ width: '30rem' }" >
      <div *ngIf="task">
        <form (ngSubmit)="updateTask()">
          <div class="p-field">
            <label for="title">Başlık: </label>
            <input id="title" [(ngModel)]="task.title" name="title" type="text" pInputText required  style="width: 100%;" />
          </div>
          <div class="p-field">
            <label for="description">Açıklama: </label>
            <textarea id="description" [(ngModel)]="task.description" name="description" pInputTextarea required  rows="5" cols="30" ></textarea>
          </div>
          <div class="p-field" >
            <label for="status">Durum: </label>
            <p-dropdown id="status" [(ngModel)]="task.status" name="status" [options]="statusOptions" optionLabel="name" optionValue="value" placeholder="Durum Seçin"></p-dropdown>
          </div>
          <div class="p-field flex-center"  style="margin-top: 50px;">
            <p-button type="submit" label="Güncelle" [text]="true" [raised]="true" severity="warning"/>
          </div>
         
        </form>
      </div>
    </p-dialog>
    <div>
        <p-button (click)="goToHome()" label="Ana Sayfaya Dön" icon="pi pi-arrow-left" [text]="true" [raised]="true" severity="warning"  [style]="{ color: '#f14d06ad', 'border-radius': '12px'}" />
    </div>
  </div>

</div>
  
  
  